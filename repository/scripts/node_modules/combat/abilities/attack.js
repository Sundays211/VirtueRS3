/**
 * 
 */

var _entity = require('engine/entity');
var anim = require('anim');
var chat = require('chat');

var formulae = require('combat/formulae');
var combatUtil = require('combat/util');

module.exports = (function () {
	return {
		handle : handleAbility
	};
	
	function handleAbility (entity, target, abilityId) {
		switch (abilityId) {
		case 14682://Backhand
			if (formulae.isHit(entity, target)) {
				var hit = formulae.getMaxHit(entity, 1) * (0.2 + (Math.random() * 0.8));
				_entity.hit(target, hit);
				combatUtil.stun(target, 2);
			}
			return;
		case 14683://Slaughter
			anim.addSpotAnim(entity, 3581);
			if (_entity.isPlayer(entity)) {
				chat.sendDebugMessage(entity, "coming soon");
			}
			return;
		default:
			if (_entity.isPlayer(entity)) {
				chat.sendDebugMessage(entity, "coming soon");
			}
			return;
		}
	}
})();